<h1 class="mt-2 text-center">{{flat_data.offerId}} ({{flat_data.offerIdExpected}})</h1>
<h1 class="mt-2 text-center">Oferta #{{flat_data.number}}/{{ lastNumber }}</h1>

{{!-- navigation --}}
<div id="navigation" class="d-flex justify-content-center align-items-center">
    <button type="button" onclick="goToPreviousOffer({{flat_data.number}})" class="btn btn-outline-secondary btn-break">
        <
    </button>
    <button type="button" onclick="goToNextOffer({{flat_data.number}})" class="btn btn-outline-secondary btn-break">>
    </button>
</div>
<div class="d-flex justify-content-center align-items-center">
    <button type="button" onclick="copyTextToClipboard()" class="btn btn-outline-success btn-break">Kopiuj tekst do
        schowka
    </button>
</div>

{{!-- end navigation --}}
<div class="gpt-template">
    <p>Twoim zadaniem jest ccena parametrów oferty nieruchomość z tekstu rozdzielonego przez <>. W tym celu wykonaj
        następujące czynności:</p>
    <ol>
        <li>
            Stworzysz obiekt JSON, który zawiera
            następujące klucze: technologyGPT, lawStatusGPT, balconyGPT, elevatorGPT, basementGPT, garageGPT
            gardenGPT, modernizationGPT, alarmGPT, kitchenGPT, outbuildingGPT, qualityGPT, rentGPT, commentsGPT
        </li>
        <li>
            Dla oceny technologii budowy (klucz technologyGPT):
            <ul>
                <li>Wpisz 1, jeśli rok budowy jest mniejszy niż 1970, a materiał to cegła.</li>
                <li>Wpisz 2, jeśli rok budowy jest większy niż 1990, a materiał to bloczki, silka lub cegła.</li>
                <li>Wpisz 7, jeśli rok budowy jest większy od 1960 i mniejszy od 1992, a w polu "Materiał" wpisano
                    wielka płyta, beton, inny lub mieszany.
                </li>
                <li>
                    Wpisz 3, gdy rok budowy jest większy niż 2000, a liczba kondygnacji jest większa niż 13. Podczas
                    analizy weź pod uwagę pola z tekstu jak &lt;Rok budowy&gt;, &lt;Materiał&gt;
                    i &lt;Opis mieszkania&gt;.
                </li>
                <li>
                    Jeżeli nie jesteś pewny odpowiedzi wpisz: -9.
                </li>
                <p>Ocenę technologii przypisz do klucza technologyGPT obiektu JSON.</p>
            </ul>
        </li>
        <li>Dla oceny modernizacji (klucz modernizationGPT):
            <ul>
                <li>Wpisz 4, jeśli w rok budynku, bloku lub kamienicy jest mniejszy niż 1995 i w &lt;Opis mieszkania&gt;
                    jest wskazane,
                    że budynek, blok lub kamienica jest ocieplony, odrestaurowany lub odnowiony. Jeżeli to możliwe rok
                    budowy weź z pola &lt;Rok budowy&gt;,
                </li>
                <li>Wpisz 4, jeśli rok budowy budynku, bloku lub kamienicy jest mniejszy niż 1995, a w &lt;Opis
                    mieszkania&gt; napisano,
                    że budynek/kamienica/blok posiada nową elewację. Rok budowy weź z pola &lt;Rok budowy&gt;, jeżeli to
                    możliwe.
                </li>
                <li>Wpisz 5, jeśli w opisie mieszkania jest napisane, że budynek, blok lub kamienica są w trakcji
                    renowacji lub odnowienia lub gdy renowacja lub odnowienie są planowane.
                </li>
                <li>Podczas analizy weź pod uwagę &lt;Rok budowy&gt;, &lt;Materiał&gt; i &lt;Opis mieszkania&gt;.</li>
                <li>Jeżeli w tekście nie ma informacji wpisz null.</li>
                <li>Jeżeli nie ma informacji o modernizacji wpisz 0.</li>
                <li>Jeżeli nie jesteś pewny odpowiedzi wpisz: -9.</li>
                <p>Ocenę modernizacji przypisz do klucza modernizationGPT obiektu JSON.</p>
            </ul>
        </li>
        <li>
            Dla oceny Stanu prawnego (klucz lawStatusGPT):
            <ul>
                <li>
                    Jeżeli rok budowy jest mniejszy niż 1990, a materiał do wielka płyta wpisz wartość 2.
                </li>
                <li>
                    Pozyskaj informację z pola &lt;Stan prawny&gt;. Jeżeli &lt;Stan prawny&gt; to własność wpisz wartość
                    1, jeżeli zawarte jest słowo spółdzielcze to wpisz wartość 2.
                </li>
                <li>
                    Jeżeli nie ma informacji w polu &lt;Stan prawny&gt; weź pod uwagę &lt;Opis mieszkania&gt;. Jeżeli
                    zostało wspomniane o wspólnocie to wpisz wartość 1. Jeżeli natomiast wspomniano o spółdzielni wpisz
                    wartość 2.
                </li>
                <li>Jeżeli nie jesteś pewny odpowiedzi wpisz: -9.</li>
            </ul>
            <p>Ocenę stanu prawnego przypisz do klucza lawStatusGPT obiektu JSON.</p>

        <li>Dla oceny Balkonu (klucz balconyGPT):
            <ul>
                <li>Wpisz wartość 0, jeżeli napisano w &lt;Opis mieszkania&gt;, że w mieszkaniu jest tylko balkon
                    francuski.
                </li>
                <li>Wpisz wartość 1, jeżeli w opisie są informacje o balkonie lub tarasie lub loggi.</li>
                <li>
                    Jeżeli w &lt;Opis mieszkania&gt; nie podano informacji o balkonie, pobierz informację z pola
                    &lt;Balkon&gt;. Jeżeli podano ```Tak``` wpisz 1. Jeżeli podano ```Nie``` lub nic nie podano wpisz 0.
                </li>
                <li>Jeżeli nie jesteś pewny odpowiedzi wpisz: -9.</li>
            </ul>
            <p>Ocenę stanu prawnego przypisz do klucza balconyGPT obiektu JSON.</p>
        </li>


        <li>
            W kluczy qualityGPT:
            <ul>
                {{#unless flat_ans_data.qualityAns}}
                    <li>Wpisz wartość: null</li>
                {{else}}
                    <li>Wpisz wartość: {{flat_ans_data.qualityAns}}</li>
                {{/unless}}
            </ul>
        </li>
        <li>W kluczu commentGPT:
            <ul>
                <li>Przypisz do kluczy informacje dlaczego nadałeś wartości poszczególnym kluczom.</li>
                <li>Wykorzystaj taki format: klucz:uzasadnienie</li>
                <li>Informacje przypisz do klucza commentGPT obiektu JSON.</p>
                </li>
            </ul>
        </li>
        <li>Wygeneruj tylko obiekt JSON.</li>

    </ol>

    <p>
        Tekst oferty nieruchomości do analizy:
        &lt;
        {{#if flat_data.material}}
            &lt;Materiał&gt;: {{flat_data.material}}
        {{/if}}

        {{#if flat_data.yearBuilt}}
            &lt;Rok budowy&gt; {{flat_data.yearBuilt}}
        {{/if}}

        {{#if flat_data.lawStatus}}
            &lt;Stan prawny&gt; {{flat_data.lawStatus}}
        {{/if}}

        {{#if flat_data.balcony}}
            &lt;Balkon&gt; {{flat_data.balcony}}
        {{/if}}
        {{#if flat_data.balconyQuantity}}
            &lt;Liczba balkonów&gt; {{flat_data.balconyQuantity}}
        {{/if}}
        {{#if flat_data.terracesQuantity}}
            &lt;Liczba tarasów&gt; {{flat_data.terracesQuantity}}
        {{/if}}
        {{#if flat_data.loggiasQuantity}}
            &lt;Liczba logii&gt; {{flat_data.loggiasQuantity}}
        {{/if}}
        {{#if flat_data.frenchBalconyQuantity}}
            &lt;Liczba balkonów francuskich&gt; {{flat_data.frenchBalconyQuantity}}
        {{/if}}

        {{#if flat_data.elevator}}
            &lt;Winda&gt; {{flat_data.elevator}}
        {{/if}}

        {{#if flat_data.basement}}
            &lt;Piwnica&gt; {{flat_data.basement}}
        {{/if}}

        {{#if flat_data.garage}}
            &lt;Garaż&gt; {{flat_data.garage}}
        {{/if}}

        {{#if flat_data.garden}}
            &lt;Ogród&gt; {{flat_data.garden}}
        {{/if}}

        {{#if flat_data.monitoring}}
            &lt;Monitoring&gt; {{flat_data.monitoring}}
        {{/if}}

        {{#if flat_data.security}}
            &lt;Ochrona&gt; {{flat_data.security}}
        {{/if}}

        {{#if flat_data.guardedArea}}
            &lt;Osiedle strzeżone&gt; {{flat_data.guardedArea}}
        {{/if}}

        {{#if flat_data.kitchen}}
            &lt;Kuchnia&gt; {{flat_data.kitchen}}
        {{/if}}

        {{#if flat_data.outbuilding}}
            &lt;Oficyna&gt; {{flat_data.outbuilding}}
        {{/if}}

        {{#if flat_data.rent}}
            &lt;rent&gt; {{flat_data.rent}}
        {{/if}}

        &lt;Opis mieszkania&gt; {{flat_data.description}}

    </p>
</div>

<form action="{{add flat_data.number 1}}" method="post">
    <div class="input-group mb-3">
        <textarea name="gpt-json" rows="20" class="form-control" placeholder="Podaj obiekt JSON."
                  {{#if flat_gpt_data.commentsGPT}}value="{{flat_gpt_data.commentsGPT}}"{{/if}} required></textarea>
    </div>


    <div class="d-flex justify-content-center align-items-center">
        <button type="button" onclick="copyTextToClipboard()" class="btn btn-outline-success btn-break">
            Kopiuj tekst do schowka
        </button>
        <button type="submit" class="btn btn-success btn-break">Wyślij</button>
    </div>
</form>
<div id="navigation" class="d-flex justify-content-center align-items-center">
    <button type="button" onclick="goToPreviousOffer({{flat_data.number}})" class="btn btn-outline-secondary btn-break">
        <
    </button>
    <button type="button" onclick="goToNextOffer({{flat_data.number}})" class="btn btn-outline-secondary btn-break">>
    </button>
</div>


{{!--     market: 'market',
    offerId: 'offerId',
    offerIdExpected: 'offerIdExpected',
    offerType: 'offerType',
    offerStatus: 'offerStatus',
    dateAdded: 'dateAdded',
    dateUpdated: 'dateUpdated',
    dateEndTransaction: 'dateEndTransaction',
    localization: 'localization',
    street: 'street',
    lawStatus: 'lawStatus',
    price: 'price',
    priceOffer: 'priceOffer',
    rent: 'rent',
    priceM2: 'priceM2',
    livingArea: 'livingArea',
    material: 'material',
    buildingType: 'buildingType',
    yearBuilt: 'yearBuilt',
    floorsNumber: 'floorsNumber',
    buildingQuality: 'buildingQuality',
    flatQuality: 'flatQuality',
    floor: 'floor',
    balcony: 'balcony',
    balconyQuantity: 'balconyQuantity',
    terracesQuantity: 'terracesQuantity',
    loggiasQuantity: 'loggiasQuantity',
    frenchBalconyQuantity: 'frenchBalconyQuantity',
    roomsNumber: 'roomsNumber',
    kitchenType: 'kitchenType',
    basement: 'basement',
    storageRoom: 'storageRoom',
    attic: 'attic',
    parkingPlace: 'parkingPlace',
    priceParkingUnderground: 'priceParkingUnderground',
    priceParkingGround: 'priceParkingGround',
    garden: 'garden',
    elevator: 'elevator',
    security: 'security',
    monitoring: 'monitoring',
    guardedArea: 'guardedArea',
    securityControl: 'securityControl',
    description: 'description', --}}
{{!-- "flatId", "technologyGPT", "lawStatusGPT",  "balconyGPT", "elevatorGPT", "basementGPT", "garageGPT", "gardenGPT",
    "modernizationGPT", "alarmGPT", "kitchenGPT", "outbuildingGPT", "qualityGPT", "rentGPT", "commentsGPT" --}}


<script src="/assets/js/copy-template.js"></script>
<script src="/assets/js/navigation.js"></script>